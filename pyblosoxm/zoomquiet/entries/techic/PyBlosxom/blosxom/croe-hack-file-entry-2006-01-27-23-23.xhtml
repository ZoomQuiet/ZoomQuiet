<?xml version="1.0"
      encoding="UTF-8"
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>[core]fileentry.py</title>
<meta name="generator" content="http://txt2tags.sf.net" />
</head>
<body>

<div class="header" id="header">
<a name='toptopTE5SVzY0V' id='toptopTE5SVzY0V'></a><h1>[core]fileentry.py</h1>
<h2>增补模板元素</h2>
<h3>t2t渲染:2011-09-07 02:09:17</h3>
</div>

<div class="toc" id="toc">
  <ol>
  <li><a href="#toc1R0VYQ0FaV">fixed</a>
  </li>
  <li><a href="#toc2R0lYQ0FWQ">TODO</a>
  </li>
  </ol>

</div>
<div class="body" id="body">
<a id="toc1R0VYQ0FaV" name="toc1R0VYQ0FaV"></a>
<h1><A href='#toptopTE5SVzY0V'> 1. fixed </A></h1>
<dl>
<dt>Why?</dt><dd>
    <a href="../060120-PyblosxomFixLog3.phtm#toc5">t2t支持的遗留问题</a>
    <ul>
    <li>现在我的Blog 基本就两种文件格式:
        <ol>
        <li>.py 脚本文件
        </li>
        <li>.t2t 文章
        </li>
        </ol>
    </li>
    <li>但是模板中 t2t 额外给出的下载 .t2t和.moin 对 .py 的文件不适用！
    <p></p>
    </li>
    </ul>
</dd>
<dt>problem</dt><dd>
    <a href="http://pyblosxom.sourceforge.net/1.3/manual/x307.html#AEN356">模板有效输出值</a>
    的说明中有问题！
    <ul>
    <li><b>file_path</b>	just the filename and extensions of the entry
    </li>
    <li>实际上没有后缀！
    </li>
    <li>所以！
    </li>
    </ul>
</dd>
<dt>hacked:</dt><dd>
    <i>path/to/site-packages/Pyblosxom/entries/fileentry.py</i>
<p></p>
<pre class="brush:  python">

#147 line...
        self['entryext'] = ext
        self['filebasename'] = file_basename
</pre>
    追加我需要的变量！
</dd>
<dt>模板处理:</dt><dd>
    这样一来<b>story.*</b>的模板中就可以对应修正输出了！
<pre class="brush:  html">

| &lt;a href="$base_url/$file_path_urlencoded.$flavour" 
    title="permalink"&gt;#
    永久链接&lt;/a&gt;&lt;!--permanent link to this entry--&gt;
    &lt;sup&gt;    
    &lt;a href="/entry/$file_path_urlencoded$entryext"&gt;
    $entryext&lt;/a&gt;
    &lt;a href="/entry/$file_path_urlencoded.t2t"&gt;
    .t2t&lt;/a&gt;
    &lt;a href="/entry/$file_path_urlencoded.moin"&gt;
    .moin&lt;/a&gt;
    &lt;/sup&gt;
</pre>
</dd>
</dl>

<a id="toc2R0lYQ0FWQ" name="toc2R0lYQ0FWQ"></a>
<h1><A href='#toptopTE5SVzY0V'> 2. TODO </A></h1>
<dl>
<dt>contribute 分发!</dt><dd>
    接踵而来的就是如何标准化的反馈社区，
    贡献代码了…………
</dd>
<dt>进一步的:</dt><dd>
    Pyblosxom的模板属于简单模板，在模板中不能加入逻辑的，
    所以现在虽然对.py 的文章有了直接下载链接，但是，没有自动生成的.moin 
    和约定的.t2t 下载并不应该有…………
    向社区建议吧…………
</dd>
</dl>

<hr class="light" />
<p>
动力源自::<b><a href="http://txt2tags.sf.net">txt2tags</a></b>
</p>
<p>
<img align="middle" src="/pybimage/technorati-over.gif" border="0" alt=""/>
    <a href="http://www.technorati.com/tags/OpenSource">OpenSource</a>
    ,<a href="http://www.technorati.com/tags/PyBlosxom">PyBlosxom</a>
    ,<a href="http://www.technorati.com/tags/hacking">hacking</a>
    ,<a href="http://www.technorati.com/tags/SNS">SNS</a>
</p>
</div>

<!-- xhtml code generated by txt2tags 2.4 (http://txt2tags.sf.net) -->
<!-- cmdline: txt2tags croe-hack-file-entry-2006-01-27-23-23.t2t -->
</body></html>
