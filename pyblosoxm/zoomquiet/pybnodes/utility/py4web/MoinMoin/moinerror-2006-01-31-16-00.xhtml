<?xml version="1.0"
      encoding="UTF-8"
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>MoinMoin问题</title>
<meta name="generator" content="http://txt2tags.sf.net" />
</head>
<body>

<div class="header" id="header">
<a name='toptopSlZYV1MzU' id='toptopSlZYV1MzU'></a><h1>MoinMoin问题</h1>
<h2>还是中文惹的祸！</h2>
</div>

<div class="toc" id="toc">
  <ol>
  <li><a href="#toc1R0VYQ0FaV">fixed</a>
  </li>
  </ol>

</div>
<div class="body" id="body">
<p>
<img align="middle" src="/pybimage/snap060130-moinerror.png" border="0" alt=""/>
</p>
<a id="toc1R0VYQ0FaV" name="toc1R0VYQ0FaV"></a>
<h1><A href='#toptopSlZYV1MzU'> 1. fixed </A></h1>
<p>
接到举报，看一下子 trackback 是系统 进行字串解析时出错
</p>
<pre>
## site-packages\MoinMoin\macro\RecentChanges.py line 29 左右
    if line.action[:3] == 'ATT':
        import urllib
        try:
            filename = urllib.unquote(line.extra)
        except:
            filename = "filename can not display...maybe UnicodeDecodeError"
        if line.action == 'ATTNEW':
            try:
                comment = _("Upload of attachment '%(filename)s'.") % {'filename': filename}
            except:
                comment = _("Upload of attachment '%(filename)s'.") % "filename can not display..."
</pre>
<p></p>
<p>
简单过滤就成，但是问题还在…………可怜的中文…………
</p>
<hr class="light" />
<ul>
<li>t2t渲染:: 2010-10-09 02:21:37
</li>
<li>动力源自::<b><a href="http://txt2tags.sf.net">txt2tags</a></b>
</li>
</ul>

</div>

<!-- xhtml code generated by txt2tags 2.4 (http://txt2tags.sf.net) -->
<!-- cmdline: txt2tags ./utility/py4web/MoinMoin/moinerror-2006-01-31-16-00.t2t -->
</body></html>
