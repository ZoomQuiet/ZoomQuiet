.. 结构化文本(reStructuredText)介绍文档

.. 此处是注释，可以注意到一些注释被解析到，文档的标题，副标等处
   This is a comment. Note how any initial comments are moved by
   transforms to after the document title, subtitle, and docinfo.

================================================================
 结构化文本(reStructuredText)介绍文档
================================================================

.. 在文档标题与副标之间的注释在章节标题后解析
    Above is the document title, and below is the subtitle.
   They are transformed from section titles after parsing.

----------------------------------------------------------------
 语法结构示例 Examples of Syntax Constructs
----------------------------------------------------------------

.. 文档信息栏 bibliographic fields (which also require a transform):

:作者: David Goodger
:地址: 123 Example Street
          Example, EX  Canada
          A1B 2C3
:联系: goodger@users.sourceforge.net
:译者: Me; 
:组织: infopro.cn
:日期: $Date$
:状态: 完善ing;This is a "work in progress"
:当前版本: $Revision$
:版本: 1
:copyright: 此文档遵从开放原则，你可以自由的复制，修改，发布,发售，购买,
            租借，销毁，改进；或是引用，摘录，合并，比较，分类等等
            总之你可以自由使用此文档；
            This document has been placed in the public domain. You
            may do with it as you wish. You may copy, modify,
            redistribute, reattribute, sell, buy, rent, lease,
            destroy, or improve it, quote it at length, excerpt,
            incorporate, collate, fold, staple, or mutilate it, or do
            anything else to it that your or anyone else's heart
            desires.
:条目名称 field name: 普通文档信息栏 This is a generic bibliographic field.
:条目名称2 field name 2:
    普通文档信息栏可以包含其它元素
    Generic bibliographic fields may contain multiple 文档元素 Body Elements.
    (但是条目名称不能使用中文，否则脚本不能生成正常排版格式)
    
    比如说 Like this.

:Dedication:

    罗列捐献和开发者名录;For Docutils users & co-developers.

:abstract:

    这是一个测试文档，包含了 新结构化文本 的所有元素的例子
    This is a test document, containing at least one example of each
    reStructuredText construct.

.. meta::
   :keywords: reStructuredText, test, parser
   :description lang=zh: 一个测试文档，包含了 新结构化文本 的所有元素的例子 A test document, containing at least one
       example of each reStructuredText construct.

.. contents:: 内容索引 Table of Contents
.. section-numbering::

结构元素 Structural Elements
======================================


章节层次,是通过使用不同的行装饰字串实现的，实际上你可以使用任何字串，
在章节标题行下，使用 行装饰字串 再另起一行就好（注意，行装饰字串至少要与标题一样长）

推荐使用如下 行装饰字串::

  第一级
  ==============
  第二级
  --------------
  第三级
  ``````````````
  第四级
  ''''''''''''''
  第五级
  """"""""""""""
  
即，按照键盘的左右顺序 选的几个不常用字符，实际上 结构文本支持更深层次的结构，
但是HTML标签只支持到 H6,且，不建议创立过多层次的文档...


实际效果--第一级别
======================================
文章序言

第二级别
-------------------------------------
章正文

第三级别
`````````````````````````````
小节正文

第四级别.1
'''''''''''''''''''''''''''''
分论题正文

第五级别.a
""""""""""""""""""""""""""""
细论正文

第五级别.b
""""""""""""""""""""""""""""
细论正文

第四级别.2
''''''''''''''''''''''''''''
分论题正文

章节标题 Section Title
--------------------------

就是在 行装饰字串 上面一行的文字 That's it, the text just above this line.

过渡 Transitions
-----------------

这是个表示过渡的横线 Here's a transition:

---------

用以区分 章节 It divides the section.

文档元素 Body Elements
==========================


段落 Paragraphs
--------------------

一个自然段 A paragraph.

行内标记Inline Markup
````````````````````````````

段落文字可以包含一些行内标记:
*强调*, **加重强调** , ``斜体``,

标准超链接(http://www.python.org), 扩展超链接 (Python_),

内联交叉参考(example_), 扩展超链接内嵌URIs
(`Python网站 <http://www.python.org>`__),

脚注参考引用
(使用数字 [1]_, 末名自动数字 [#]_, 使用标签 [#label]_, 或是符号 [*]_), 

参考引用([CIT2002]_), 

置换引用 (|example|)<-- 图片,

以及 _`行内超链接标签` (参看后文的 标签Targets_ 部分).

字符级 行内标记Inline Markup 也支持(即使非常的丑!) 
在 *新*\ ``结构化``\ *文本* 
*re*\ ``Structured``\ *Text* 都是可能的.  
(注意 修饰符前要有空格)

解析时的问题将使用 |problematic| 指出
(此处故意产生一个错误 generated by processing errors; this one is intentional).


默认的解析规则字符是 `标题参考`.
这儿有几种显式的规则字符:

PEP参考 (:PEP:`287`); 

RFC参考 (:RFC:`2822`); 

下标 :sub:`subscript`; 

上标 :sup:`superscript`;

以及扩展规则 :emphasis:`标准强调` :strong:`行内加重`
:literal:`标记强调`.

即通过::

 :特殊规则字符:`正常字串`

以上形式的 规则字符 前导，改变解析输出！

.. 以下段落不要重新回行分段！DO NOT RE-WRAP THE FOLLOWING PARAGRAPH!

让我们来进行一次行内空白与包绕试验:(对中文支持应该不严密)
Let's test wrapping and whitespace significance in inline literals:
``This is an example of --inline-literal --text, --including some--
strangely--hyphenated-words.  Adjust-the-width-of-your-browser-window
to see how the text is wrapped.  -- ---- --------  Now note    the
spacing    between the    words of    this sentence    (words
should    be grouped    in pairs).``

如果 ``--pep-references`` 选项已经支持，则此链接应该已经存在 :PEP:`258` 


标点列表 Bullet Lists
------------------------

- 标点列表 A bullet list

  + 嵌套标点列表 Nested bullet list.
  + 嵌套标点列表项 2 Nested item 2.

- 列表项 2 Item 2.

  列表项 2 的内容段落 Paragraph 2 of item 2.

  * 嵌套标点列表 Nested bullet list.
  * 嵌套标点列表项 2 Nested item 2.

    - 第三级 Third level.
    - 列表项 2 Item 2.

  * 嵌套标点列表项 3 Nested item 3.

列举列表 Enumerated Lists
--------------------------------

1. 阿拉伯数字式 Arabic numerals.

   a) 小写字母lower alpha)

      (i) (小写罗马lower roman)

          A. 大写字母upper alpha.

             I) 大写罗马upper roman)

2. 列表不从 1 开始 Lists that don't start at 1:

   3. Three

   4. Four

   C. C

   D. D

   iii. iii

   iv. iv

定义式列表 Definition Lists
--------------------------------

Term
    Definition
Term : classifier
    Definition paragraph 1.

    Definition paragraph 2.
Term
    Definition

字段列表 Field Lists
----------------------

:怎样what: 字段列表是一组字段名对应字段体,就象数据库的记录,
       常常作为扩展语法的一部分,精确的叙述在: :RFC:`2822`
       Field lists map field names to field bodies, like database
       records.  They are often part of an extension syntax.  They are
       an unambiguous variant of :RFC: 2822 fields.

:多个参数how arg1 arg2:

    字段标记是 冒号 字段名 冒号
    The field marker is a colon, the field name, and a colon.

    字段体可以包含其它文档元素
    The field body may contain one or more Body Elements, indented
    relative to the field marker.

选项列表 Option Lists
------------------------

用以说明命令行选项 For listing command-line options:

-a            命令行选项 "a"
-b file       选项可以带参数 
              和长的说明
--long        选项也可以完整型
--input=file  完整型选项也可带参数

--very-long-option
              说明也可以另起一行

              说明也可以包含其它文档元素 
              不用理会从何处开始
              
-x, -y, -z    多个选项成为一 "选项组".
-v, --verbose  比照: 缩简式 & 完整式.
-1 file, --one=file, --two file
              多个选项加参数.
/V            DOS/VMS 形式的选项也可以

在选项与描述中至少有两个空格

原文块 Literal Blocks
----------------------------

原文块 Literal blocks 由两个冒号指出 ("::") 另一空白行结束.  
原文块一般用以忠实的复述有严格缩进的程序代码::

    if literal_block:
        text = 'is left as-is'
        spaces_and_linebreaks = 'are preserved'
        markup_processing = None

也可能引用没有缩排的::

>> Great idea!
>
> Why didn't I think of that?

引述块 Block Quotes
------------------------

由缩进的文档元素组成:

    My theory by A. Elk.  Brackets Miss, brackets.  This theory goes
    as follows and begins now.  All brontosauruses are thin at one
    end, much much thicker in the middle and then thin again at the
    far end.  That is my theory, it is mine, and belongs to me and I
    own it, and what it is too.

    -- Anne Elk (Miss)

测试块 Doctest Blocks
----------------------------

>>> print 'Python格式使用实例由 ">>>" 开始'
Python-specific usage examples; begun with ">>>"
>>> print '(cut and pasted from interactive Python sessions)'
(cut and pasted from interactive Python sessions)

引用 Citations
------------------

.. [CIT2002] 引用，是文字标签的脚注. 比一般脚注表现的不同.

就是对上面的引用, [CIT2002]_, 
以及一个 [不存在nonexistent]_ 的引用.(故意引发一个错误报告)

表格 Tables
------------

下面是栅格式表格接着是简单式表格:

+------------------------+------------+----------+----------+
| Header row, column 1   | Header 2   | Header 3 | Header 4 |
| (header rows optional) |            |          |          |
+========================+============+==========+==========+
| body row 1, column 1   | column 2   | column 3 | column 4 |
+------------------------+------------+----------+----------+
| body row 2             | Cells may span columns.          |
+------------------------+------------+---------------------+
| body row 3             | Cells may  | - Table cells       |
+------------------------+ span rows. | - contain           |
| body row 4             |            | - body Elements.    |
+------------------------+------------+----------+----------+
| body row 5             | Cells may also be     |          |
|                        | empty: ``-->``        |          |
+------------------------+-----------------------+----------+

=====  =====  ======
   Inputs     Output
------------  ------
  A      B    A or B
=====  =====  ======
False  False  False
True   False  True
False  True   True
True   True   True
=====  =====  ======

脚注 Footnotes
------------------

.. [1] 每一脚注都可以包含其它文档元素, 不过注意要统一有至少三空格以上的缩进

    此为脚注的第二段 This is the footnote's second paragraph.

.. [#label] 脚注可能是数字式的, 手工指定(如 [1]_) 或是自动分配
    使用标签前加 "#".  
    此条脚注有一标签使它可以在其它多处被引用, 以脚注参考的形式 ([#label]_) 
    或是超链接引用 (label_).

.. [#] 此为自动分配数字式引用的脚注，拥有匿名的标签引用标签 仅使用 "#" .

.. [*] 脚注也可使用符号, 特别的使用 "*" 标签.
   引用下一脚注: [*]_.

.. [*] 这是符号式脚注序列中的另一条目

.. [4] 这是未引用过的脚注，连同一个不存在的脚注的引用: [4]_.

标签Targets
--------------

.. _example:

此段落由显示声明的" `example`_ "标签所指(由注释中的标签声明构成) 

以下还可以看到
前面的 `行内标记Inline Markup`_ 引用, `行内超链接标签`_ 也支持

章节的标头是隐含的 标签,由名称来引用，

比如说: 标签Targets_ , 这是另一节的标题引用 `文档元素 Body Elements`_.

外部扩展 标签 的插入引用类似以"Python_".

.. _Python: http://www.python.org/

标签也可以以匿名或是间接命名方式来引用！

从而 `随便一个短语`__ 也可以指向本节 标签Targets_ 

__ 标签Targets_

这则是 `没有定义标签的超链接 hyperlink reference without a target`_, 
这将引发一个错误

直接外部链接声明： `《计算机行业 术语对照表(英日中)》`__

__  http://192.168.2.29:7080/moin/KatakanaTEtab

:注意: 对于外部链接，可以通过"__ " 前导，直接声明到对应字串上;
        但是使用".. _标签:URL"的方式，更加灵活，因为可以通过使用 "标签_" 的形式，在多处进行引用！
        (此处的引用因为没有进行过定义，所以会产生报错)

重复的标签名
``````````````````````

在章节标题或是其它隐含标签处的重复名称将生成"有效系统信息"(一级 level-1)

在扩展标签中的重复名称将生成"警告系统信息"(二级 level-2)

重复的标签名
`````````````````````` 

现在有两个  "重复的标签名" 小节, 系统不能通过名称来正确引用他们,
若尝试如此引用:( `重复的标签名`_), 将产生一个报错.


指引Directives
--------------------

.. _directives:

.. contents:: :local:

一个简单的一些 结构文本 结构指引的例子

其它的情况请参考 http://docutils.sf.net/spec/rst/directives.html.



文档部分 Document Parts
````````````````````````````

上面为本章节的"内容"指引示例
(一个本地的无标题的内容指引表 Contents_)

在文档开始(一个全文档范围的 `内容索引 Table of Contents`_).

图片 Images
````````````

以下是图像指引 (可点击，含一超链接引用 -- ):

.. image:: images/title.png
   :target: directives_

以下是 指向引用:

.. figure:: images/title.png
   :alt: 新结构化文本 reStructuredText, 标记语法

   指向(figure)是可以拥有标题和解说的图片:

   +------------+-----------------------------------------------+
   | re         | Revised, revisited, based on 're' module.     |
   +------------+-----------------------------------------------+
   | Structured | Structure-enhanced text, structuredtext.      |
   +------------+-----------------------------------------------+
   | Text       | Well it is, isn't it?                         |
   +------------+-----------------------------------------------+

   本段落依然属于图片的解说,
   This paragraph is also part of the legend.

警告 Admonitions
``````````````````````

.. Attention::  注意！
        
        Directives at large.(也可以含有其它结构文档元素)        

.. Caution::    警告！

    Don't take any wooden nickels.

.. DANGER:: 危险！

    Mad scientist at work!

.. Error:: 错误……

    Does not compute.

.. Hint:: 暗示……It's bigger than a bread box.

.. Important::  重要！
   - Wash behind your ears.
   - Clean up your room.
   - Call your mother.
   - Back up your data.

.. Note:: 解说……
    
    This is a note.

.. Tip:: 小贴士……
    
    15% if the service is good.

.. WARNING::    警报……
    
    Strong prose may provoke extreme mental exertion.
    Reader discretion is strongly advised.
    

.. admonition::     注意!
    
    And, by the way...    

    You can make up your own admonition too.

主题，边注和加红 Topics, Sidebars, and Rubrics
``````````````````````````````````````````````````````````

.. sidebar:: 边注标题 Sidebar Title
   :subtitle: 副标可选 Optional Subtitle

   这是一个边注，它是活动在主文本之外的一块文本

   .. rubric:: 这是边注里的加红效果

   边注经常使用边线和底色出现在主文档的旁边，用以进行某些专用词的详细描述
   

.. topic:: 主题标题 Topic Title

   这是一个主题 This is a topic.

.. rubric:: 这是加红效果 This is a rubric

脚注标签 Target Footnotes
````````````````````````````````

.. target-notes::

使用"target-notes: :" 标签，会自动在脚注位置整理输出所有外部链接信息

行文本块 Line Blocks
``````````````````````

Take it away, Eric the Orchestra Leader!

.. line-block::

   A one, two, a one two three four

   Half a bee, philosophically,
       must, *ipso facto*, half not be.
   But half the bee has got to be,
       *vis a vis* its entity.  D'you see?

   But can a bee be said to be
       or not to be an entire bee,
           when half the bee is not a bee,
               due to some ancient injury?

   Singing...

文本置换 Replacement Text
````````````````````````````````

我建议你尝试 |Python|_.

.. |Python| replace:: Python, *最好的* 语言之一

替换定义 Substitution Definitions
------------------------------------------------

行内图片示例  (|example|) :

.. |EXAMPLE| image:: images/ball1.gif

(替换定义在HTML原代码中不会有体现.)


注释 Comments
----------------

这有一段例子:

.. 注释由两个冒号和空格开始 
   其它各种 结构化文本语法都支持,除了脚注，超链接，指引，替换定义
    Comments begin with two dots and a space. Anything may
   follow, except for the syntax of footnotes, hyperlink
   标签Targets, directives, or substitution definitions.

   Double-dashes -- "--" -- must be escaped somehow in HTML output.

(查看HTML原代码来看注释效果 View the HTML source to see the comment.)

错误处理 Error Handling
============================

任何处理时捕获的错误都会生成系统信息.
Any errors caught during processing will generate system messages.

测试文本将生成5条报错信息，并自动生成
"Docutils System Messages"章节:

.. section should be added by Docutils automatically

